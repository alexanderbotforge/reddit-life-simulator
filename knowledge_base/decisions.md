# Architecture Decision Records (ADR)

**Версия документа:** 1.0.1  
**Последнее обновление:** 2025-02-01  
**Описание:** Ключевые архитектурные и проектные решения Reddit Life Simulator.

---

## Формат записи ADR

Каждое решение описывается в формате:

- **ADR-XXX:** краткое название
- **Статус:** Принято | Отложено | Заменено
- **Контекст:** что требовалось решить
- **Решение:** что выбрано
- **Последствия:** плюсы, минусы, ограничения
- **Дата:** YYYY-MM-DD

---

## ADR-001: Один активный аккаунт (очередь жизни)

- **Статус:** Принято
- **Контекст:** Необходимо избежать корреляций по таймингам, нагрузке и поведению между аккаунтами.
- **Решение:** В каждый момент времени активен строго один аккаунт; аккаунты обрабатываются последовательно через общую очередь жизни.
- **Последствия:** Упрощение модели безопасности и логики; отсутствие параллельной работы аккаунтов.
- **Дата:** 2025-02-01

---

## ADR-002: Браузерная эмуляция без API Reddit (v1.0)

- **Статус:** Принято
- **Контекст:** Имитация человеческого поведения и снижение рисков детекции автоматизации.
- **Решение:** Использовать реальный браузер с профилем на аккаунт; в v1.0 не использовать API Reddit для действий или наблюдения.
- **Последствия:** Поведение ближе к реальному пользователю; возможны ограничения по масштабу и типу наблюдений в v1.0.
- **Дата:** 2025-02-01

---

## ADR-003: Жёсткая привязка аккаунта к прокси, языку и региону

- **Статус:** Принято
- **Контекст:** Стабильная «личность» аккаунта и снижение подозрительных смен контекста.
- **Решение:** Один аккаунт — один прокси, один часовой пояс, один язык, один регион; в v1.0 смена прокси не допускается.
- **Последствия:** Консистентность идентичности; при смене прокси потребуется отдельный процесс (вне v1.0).
- **Дата:** 2025-02-01

---

## ADR-004: Комментарии отключены в v1.0

- **Статус:** Принято
- **Контекст:** Комментарии повышают риски и сложность модерации/качества.
- **Решение:** В v1.0 комментарии полностью отключены; архитектура допускает добавление в будущем через отдельный AI-модуль и риск-контроллер.
- **Последствия:** Снижение рисков в v1.0; возможность расширения без переработки ядра.
- **Дата:** 2025-02-01

---

## ADR-005: Ежедневная отчётность в Telegram

- **Статус:** Принято
- **Контекст:** Нужен канал наблюдения без оперативного управления и без доступа к машине.
- **Решение:** Ежедневный агрегированный Telegram-отчёт с краткой информацией по каждому аккаунту.
- **Последствия:** Прозрачность состояния системы при минимальном вмешательстве.
- **Дата:** 2025-02-01

---

## ADR-006: Исключения .gitignore для публичного репо

- **Статус:** Принято
- **Контекст:** Публикация на GitHub; нельзя раскрывать секреты, данные аккаунтов и состояние.
- **Решение:** В `.gitignore` исключены: `.env`, `config/*.json` (реальные конфиги), `state/`, `logs/`, `.venv/`, `__pycache__/`. В репо только шаблоны: `.env.example`, `config/*.json.example`.
- **Последствия:** Безопасная публикация; пользователи копируют шаблоны и заполняют локально.
- **Дата:** 2025-02-01

---

## Шаблон для новых ADR

```markdown
## ADR-XXX: Название

- **Статус:** Принято | Отложено | Заменено
- **Контекст:** 
- **Решение:** 
- **Последствия:** 
- **Дата:** YYYY-MM-DD
```

---

## Changelog

| Версия | Дата | Изменения |
|--------|------|-----------|
| 1.0.0 | 2025-02-01 | Первоначальная структура, ADR-001 — ADR-005 |
| 1.0.1 | 2025-02-01 | ADR-006: Публичный репо — .gitignore исключает .env, config/*.json, state/, logs/ |
